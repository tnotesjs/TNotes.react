# [0024. å•å‘æ•°æ®æµæ˜¯ä»€ä¹ˆ](https://github.com/tnotesjs/TNotes.react/tree/main/notes/0024.%20%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81%E6%98%AF%E4%BB%80%E4%B9%88)

<!-- region:toc -->

- [1. ğŸ“ æ¦‚è¿°](#1--æ¦‚è¿°)
- [2. ğŸ“’ å•å‘æ•°æ®æµ](#2--å•å‘æ•°æ®æµ)
- [3. ğŸ“’ React ä¸­çš„å•å‘æ•°æ®æµ](#3--react-ä¸­çš„å•å‘æ•°æ®æµ)
- [4. ğŸ’» å•å‘æ•°æ®æµ](#4--å•å‘æ•°æ®æµ)

<!-- endregion:toc -->

## 1. ğŸ“ æ¦‚è¿°

- çŸ¥é“å•å‘æ•°æ®æµæ˜¯ä»€ä¹ˆï¼›
- äº†è§£å•å‘æ•°æ®æµçš„ä¼˜ç‚¹ï¼›

## 2. ğŸ“’ å•å‘æ•°æ®æµ

- å•å‘æ•°æ®æµ
  - å•å‘æ•°æ®æµæ˜¯ä¸€ç§åœ¨åº”ç”¨ç¨‹åºä¸­ç®¡ç†çŠ¶æ€å’Œæ•°æ®ä¼ é€’çš„è®¾è®¡æ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯åœ¨ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰æ¡†æ¶ä¸­ã€‚
  - è¿™ç§æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯æ•°æ®åªèƒ½æ²¿ç€ä¸€ä¸ªæ–¹å‘æµåŠ¨ï¼šä»çˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶ã€‚è¿™æ„å‘³ç€æ•°æ®é€šè¿‡å±æ€§ï¼ˆpropsï¼‰ä»é¡¶å±‚ç»„ä»¶å‘ä¸‹ä¼ é€’åˆ°å­ç»„ä»¶ï¼Œè€Œä¸èƒ½åå‘æ“ä½œã€‚
  - å¦‚æœéœ€è¦å°†æ•°æ®ä»å­ç»„ä»¶ä¼ é€’å›çˆ¶ç»„ä»¶ï¼Œåˆ™é€šå¸¸é€šè¿‡å›è°ƒå‡½æ•°æ¥å®ç°ã€‚
- å•å‘æ•°æ®æµçš„ä¼˜ç‚¹
  - **å¯é¢„æµ‹æ€§**ï¼šå› ä¸ºæ•°æ®åªæ²¿ä¸€ä¸ªæ–¹å‘æµåŠ¨ï¼Œæ‰€ä»¥æ›´å®¹æ˜“è¿½è¸ªæ•°æ®çš„å˜åŒ–åŠå…¶å½±å“ï¼Œä½¿å¾—åº”ç”¨çš„è¡Œä¸ºæ›´åŠ å¯é¢„æµ‹ã€‚
  - **æ˜“äºè°ƒè¯•**ï¼šå½“å‡ºç°é”™è¯¯æ—¶ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°å®šä½é—®é¢˜ï¼Œå› ä¸ºä½ åªéœ€è¦æŸ¥çœ‹æ•°æ®çš„æµå‘ã€‚
  - **æ¸…æ™°çš„ç»“æ„**ï¼šå•å‘æ•°æ®æµé¼“åŠ±å¼€å‘äººå‘˜åˆ›å»ºå…·æœ‰æ˜ç¡®è¾“å…¥è¾“å‡ºçš„ç»„ä»¶ï¼Œè¿™æœ‰åŠ©äºä¿æŒä»£ç çš„æ¸…æ™°å’Œæ¨¡å—åŒ–ã€‚
  - **å‡å°‘å‰¯ä½œç”¨**ï¼šé™åˆ¶äº†æ•°æ®å¦‚ä½•ä»¥åŠä½•æ—¶æ”¹å˜ï¼Œå‡å°‘äº†æ„å¤–ä¿®æ”¹çŠ¶æ€çš„å¯èƒ½æ€§ã€‚
- æ ¸å¿ƒ
  - **æ•°æ®å±äºè°ï¼Œè°æ‰æœ‰æƒä¿®æ”¹**ã€‚
  - æ¯”å¦‚ï¼ŒæŸä¸ªçŠ¶æ€æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„ï¼Œé‚£ä¹ˆåªæœ‰çˆ¶ç»„ä»¶æ‰æœ‰æƒä¿®æ”¹è¯¥æ•°æ®ï¼Œå­ç»„ä»¶åªæœ‰è¯»çš„ä»½å„¿ã€‚
- åº”ç”¨ï¼ˆVue.jsã€Reactï¼‰
  - è®¸å¤šç°ä»£å‰ç«¯æ¡†æ¶å’Œåº“ï¼Œå¦‚ React å’Œ Vue.jsï¼Œéƒ½é‡‡ç”¨äº†è¿™ç§è®¾è®¡æ¨¡å¼ã€‚
  - åŸå› ï¼šå•å‘æ•°æ®æµç®€åŒ–äº†å¤æ‚åº”ç”¨çš„çŠ¶æ€ç®¡ç†ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚

## 3. ğŸ“’ React ä¸­çš„å•å‘æ•°æ®æµ

- åœ¨ React ä¸­ï¼Œå•å‘æ•°æ®æµä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
- **Props çš„ä¼ é€’**
  - çˆ¶ç»„ä»¶å¯ä»¥é€šè¿‡ `props` å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ã€‚
  - è¿™äº›æ•°æ®æ˜¯åªè¯»çš„ï¼Œå­ç»„ä»¶ä¸å…è®¸ç›´æ¥ä¿®æ”¹æ¥æ”¶åˆ°çš„ `props`ã€‚
- **çŠ¶æ€æå‡**
  - å¦‚æœä¸¤ä¸ªæˆ–å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«ç›¸åŒçš„çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªçŠ¶æ€åº”è¯¥è¢«â€œæå‡â€åˆ°å®ƒä»¬å…±åŒçš„æœ€è¿‘çˆ¶ç»„ä»¶ä¸­ã€‚ç„¶åï¼Œè¯¥çˆ¶ç»„ä»¶è´Ÿè´£ç®¡ç†çŠ¶æ€å¹¶é€šè¿‡ `props` å°†å…¶ä¼ é€’ç»™å­ç»„ä»¶ã€‚
  - å¦‚æœæ˜¯å¤§é‡ç»„ä»¶éƒ½éœ€è¦è®¿é—®çš„çŠ¶æ€æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘å°†å…¶æå‡åˆ°æ ¹ç»„ä»¶ä¸­ï¼Œæˆ–è€…å°†å…¶å°è£…åˆ°ä¸€ä¸ªå…±äº«çš„ `context` ä¸­ã€‚
- **å›è°ƒå‡½æ•°**
  - å¦‚æœå­ç»„ä»¶éœ€è¦æ›´æ–°æ•°æ®æˆ–è€…è§¦å‘æŸäº›è¡Œä¸ºï¼Œå®ƒå¯ä»¥é€šè¿‡ `props` æ¥æ”¶æ¥è‡ªçˆ¶ç»„ä»¶çš„å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨è¿™äº›å‡½æ•°æ¥é€šçŸ¥çˆ¶ç»„ä»¶ã€‚
  - props æ˜¯å±äºçˆ¶ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„ï¼Œå­ç»„ä»¶è™½ç„¶æ²¡æœ‰æƒç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œä½†å¯ä»¥åœ¨éœ€è¦ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œé€šè¿‡å›è°ƒå‡½æ•°æˆ–è€…äº‹ä»¶çš„å½¢å¼æ¥é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œè‡³äºçˆ¶ç»„ä»¶å¦‚ä½•å¤„ç†æ•°æ®ï¼Œç”±çˆ¶ç»„ä»¶å†…éƒ¨æ¥ç¡®å®šã€‚

## 4. ğŸ’» å•å‘æ•°æ®æµ

- å‡è®¾æœ‰ä¸€ä¸ªè®¡æ•°å™¨åº”ç”¨ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæŒ‰é’®å’Œä¸€ä¸ªæ˜¾ç¤ºè®¡æ•°å€¼çš„æ ‡ç­¾ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šæœ‰ä»¥ä¸‹ç»„ä»¶ç»“æ„ï¼š

```jsx
class Counter extends React.Component {
  constructor(props) {
    super(props)
    this.state = { count: 0 }
    this.incrementCount = this.incrementCount.bind(this)
  }

  incrementCount() {
    this.setState((prevState) => ({
      count: prevState.count + 1,
    }))
  }

  render() {
    return (
      <div>
        <Display count={this.state.count} />
        <Button onClick={this.incrementCount} count={this.state.count}>
          Increment
        </Button>
      </div>
    )
  }
}

// æ˜¾ç¤ºç»„ä»¶ - æ¥æ”¶ count ä½œä¸º prop
function Display({ count }) {
  return <p>Count: {count}</p>
}

// æŒ‰é’®ç»„ä»¶ - æ¥æ”¶ onClick å›è°ƒ å’Œ count ä½œä¸º prop
function Button({ onClick, children, count }) {
  return (
    <div>
      <button onClick={onClick}>{children}</button>
      <p>Current count in Button: {count}</p>
    </div>
  )
}
```

- ã€1ã€‘æ•°æ®ä¸‹è¡Œï¼šçˆ¶ç»„ä»¶ â†’ å­ç»„ä»¶ï¼ˆé€šè¿‡ props ä¼ é€’ countï¼‰
- ã€2ã€‘äº‹ä»¶ä¸Šè¡Œï¼šå­ç»„ä»¶ â†’ çˆ¶ç»„ä»¶ï¼ˆé€šè¿‡å›è°ƒè§¦å‘çŠ¶æ€æ›´æ–°ï¼‰
- ã€3ã€‘çŠ¶æ€æ›´æ–°ï¼šçˆ¶ç»„ä»¶å†…éƒ¨æ›´æ–°çŠ¶æ€
- ã€4ã€‘é‡æ–°æ¸²æŸ“ï¼šæ›´æ–°åçš„çŠ¶æ€å†æ¬¡é€šè¿‡ props æµå‘å­ç»„ä»¶

```mermaid
flowchart TD
    A[çˆ¶ç»„ä»¶ Counter] -->|ã€1ã€‘ä¼ é€’ count| B[å­ç»„ä»¶ Display]
    A -->|ã€1ã€‘ä¼ é€’ count å’Œ onClick| C[å­ç»„ä»¶ Button]
```

---

```mermaid
flowchart TD
    A[çˆ¶ç»„ä»¶ Counter] -->|ã€1ã€‘ä¼ é€’ count| B[å­ç»„ä»¶ Display]
    A -->|ã€1ã€‘ä¼ é€’ count å’Œ onClick| C[å­ç»„ä»¶ Button]
    C -->|ã€2ã€‘è§¦å‘ onClick å›è°ƒ| A
```

---

```mermaid
flowchart TD
    A[çˆ¶ç»„ä»¶ Counter] -->|ã€1ã€‘ä¼ é€’ count| B[å­ç»„ä»¶ Display]
    A -->|ã€1ã€‘ä¼ é€’ count å’Œ onClick| C[å­ç»„ä»¶ Button]
    C -->|ã€2ã€‘è§¦å‘ onClick å›è°ƒ| A
    A -->|ã€3ã€‘æ›´æ–°çŠ¶æ€ï¼ˆåœ¨çˆ¶ç»„ä»¶å†…éƒ¨å®Œæˆï¼‰| A
```

---

```mermaid
flowchart TD
    A[çˆ¶ç»„ä»¶ Counter] -->|ã€1ã€‘ä¼ é€’ count| B[å­ç»„ä»¶ Display]
    A -->|ã€1ã€‘ä¼ é€’ count å’Œ onClick| C[å­ç»„ä»¶ Button]
    C -->|ã€2ã€‘è§¦å‘ onClick å›è°ƒ| A
    A -->|ã€3ã€‘æ›´æ–°çŠ¶æ€ï¼ˆåœ¨çˆ¶ç»„ä»¶å†…éƒ¨å®Œæˆï¼‰| A
    A -->|ã€4ã€‘ä¼ é€’æ–° count| B
    A -->|ã€4ã€‘ä¼ é€’æ–° count| C
```
